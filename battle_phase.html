<!DOCTYPE html>
<html>
  <head>
	<meta charset="UTF-8">
    <style type="text/css">
		div#player1 {
			border:2px solid;
			border-radius:25px;
			position: absolute;
			background: grey;
			width: 93px;
			height: 150px;
		}
		div#player1_cannon {
			background: black;
			height: 120px;
			width: 30px;
		}
			  
		div#player1_turret {
			background: black;
			height: 30px;
			width: 30px;
			margin: 25px auto;
		}
		
		div#laser {
			position: absolute;
			display: none;
			left: 0;
			top: 0;
			width: 10px;
			height: 10px;
			background-color: red;
      }
    </style>
    <script src="tanks/tanks/js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript">	
	//turret rotation
	$(function(){		
		var sdegree = 5;
        var srotate = "rotate(" + sdegree + "deg)";
		
        $( document ).keydown( function( event ){
          var keyCode = event.keyCode || event.which;
          var keyMap = {left: 37, right: 39}
			
          switch ( keyCode ) {
            case keyMap.left:
              $( "#player1_turret" ).css({"-moz-transform" : "rotate(" + sdegree + "deg)", "-webkit-transform" : srotate});
			  sdegree -= 5;
            break;			
			case keyMap.right:
              $( "#player1_turret" ).css({"-moz-transform" : "rotate(" + sdegree + "deg)", "-webkit-transform" : srotate});
			  sdegree += 5;
            break;		
          }
        });
      });
	
		//tank movement
      $(function(){
        $( document ).keydown( function( event ){
          var keyCode = event.keyCode || event.which;
          var keyMap = { left: 65, up: 87, right: 68, down: 83, space: 32}
			
          switch ( keyCode ) {
            case keyMap.left:
              $( "#player1" ).stop().animate({
                left: '-=40'
              }, 100 );
            break;
			
			case keyMap.right:
              $( "#player1" ).stop().animate({
                left: '+=40'
              }, 100 );
            break;
 
            case keyMap.up:
              $( "#player1" ).stop().animate({
                top: '-=40'
              }, 100 );
            break;
			
			case keyMap.down:
              $( "#player1" ).stop().animate({
                top: '+=40'
              }, 100 );
            break;
			
			case keyMap.space:
				var tankleft = $("#player1").offset().left;
                var tanktop = $("#player1").offset().top; // LOL tanktop
                var targetleft = 1000;
                var targettop = 1000;
                $("#laser").offset({left:tankleft + 50, top: tanktop + 50});
                $("#laser").css("display", "block").animate({top: targettop, left: targetleft}, 500);
            break;
			}
		});
	});
    </script>
  </head>
  <body>
	<div id="player1" >
		<div id="player1_turret">
			<div id="player1_cannon"></div>
		</div>
	</div>
	<div id="laser"></div>
  </body>
</html>